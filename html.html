<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>

    let user = {
        name: "name",
        lastTime: new Date()
    }

    const posts = [{title: "title", body: "new post"}]


    console.log(posts, user.lastTime);


const updateLastUserActivityTime = new Promise((resolve, reject)=>{

    setTimeout(()=>{
        let time = new Date();
        user.lastTime = time.getTime();
        resolve();
    }, 1000)
});

function createNewPost(post) {
    return new Promise( (resolve, reject) => {
        setTimeout( () => {      
            posts.push(post);
            resolve();
        }, 1000)
    }) 
}

let post = {
    title: "new title",
    body: "new one post"
}

Promise.all([updateLastUserActivityTime, createNewPost(post)]).then(()=>{
    console.log(posts, user.lastTime);
})

    </script>
    
</body>
</html>